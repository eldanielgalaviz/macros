<div class="container mt-5">
  <div class="row">
    <h3 class="text-center">Registrarse</h3>

    <form (ngSubmit)="singup(signupForm)" #signupForm="ngForm">
      <div class="mb-3 mt-5">
        <label for="nombre" class="form-label">Nombre</label>
        <input 
          type="text" 
          class="form-control" 
          id="nombre"
          name="nombre"
          [(ngModel)]="userData.nombre"
          required>
      </div>

      <div class="mb-3">
        <label for="apellidopaterno" class="form-label">Apellido Paterno</label>
        <input 
          type="text" 
          class="form-control" 
          id="apellidopaterno"
          name="apellidopaterno"
          [(ngModel)]="userData.apellidopaterno"
          required>
      </div>

      <div class="mb-3">
        <label for="apellidomaterno" class="form-label">Apellido Materno</label>
        <input 
          type="text" 
          class="form-control" 
          id="apellidomaterno"
          name="apellidomaterno"
          [(ngModel)]="userData.apellidomaterno"
          required>
      </div>

      <div class="mb-3">
        <label for="correo" class="form-label">Correo</label>
        <input 
          type="email" 
          class="form-control" 
          id="correo"
          name="correo"
          [(ngModel)]="userData.correo"
          required
          email>
      </div>

      <div class="mb-3">
        <label for="edad" class="form-label">Edad</label>
        <input 
          type="number" 
          class="form-control" 
          id="edad"
          name="edad"
          [(ngModel)]="userData.edad"
          required
          min="1">
      </div>

      <div class="mb-3">
        <label for="usuario" class="form-label">Usuario</label>
        <input 
          type="text" 
          class="form-control" 
          id="usuario"
          name="usuario"
          [(ngModel)]="userData.usuario"
          required>
      </div>

      <div class="mb-3">
        <label>Contraseña</label>
        <div class="input-group">
          <input [type]="showPassword ? 'text' : 'password'"
                 class="form-control"
                 name="password" 
                 [(ngModel)]="userData.password"
                 required>
          <button class="btn btn-outline-secondary"
                  type="button"
                  (click)="showPassword = !showPassword">
            <i class="fas" [ngClass]="{'fa-eye': !showPassword, 'fa-eye-slash': showPassword}"></i>
          </button>
        </div>
      </div>

      <div class="mb-3">
        <label>Confirmar Contraseña</label>
        <div class="input-group">
          <input [type]="showConfirmPassword ? 'text' : 'password'"
                 class="form-control"
                 name="confirmPassword"
                 [(ngModel)]="userData.confirmPassword" 
                 required>
          <button class="btn btn-outline-secondary"
                  type="button"
                  (click)="showConfirmPassword = !showConfirmPassword">
            <i class="fas" [ngClass]="{'fa-eye': !showConfirmPassword, 'fa-eye-slash': showConfirmPassword}"></i>
          </button>
        </div>
      </div>

      <div class="text-danger mb-3" *ngIf="errorMessage">
        {{ errorMessage }}
      </div>

      <div class="text-success mb-3" *ngIf="successMessage">
        {{ successMessage }}
      </div>

      <div class="d-flex justify-content-between gap-2">
        <button 
          type="submit" 
          class="btn btn-primary"
          [disabled]="!signupForm.valid || isLoading">
          {{ isLoading ? 'Registrando...' : 'Registrar' }}
        </button>
        <button 
          type="button" 
          class="btn btn-secondary"
          (click)="cancel()">
          Cancelar
        </button>
      </div>
    </form>
  </div>
</div>